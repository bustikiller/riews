<%= content_tag :div, class: 'nested-fields' do %>
    <%= f.input :field_name, as: :select, collection: @view.available_columns %>
    <%= f.input :operator, as: :select, collection: operators_for_select, value_method: :first, label_method: :last %>
    <%= f.input :negation, as: :boolean %>
    <%= content_tag :div, class: 'form-inline' do %>
        <%= f.simple_fields_for :arguments do |ff| %>
            <%= render 'argument_fields', f: ff %>
        <% end %>
    <% end %>
    <%= content_tag :div do %>
        <%= link_to_add_association 'Add argument', f, :arguments %>
    <% end %>
    <%= link_to_remove_association 'Remove filter', f %>
<% end %>